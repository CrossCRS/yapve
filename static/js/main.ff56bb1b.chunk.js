(this.webpackJsonpyapve=this.webpackJsonpyapve||[]).push([[0],{102:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var n=t(2),s=t(0),r=t.n(s),i=t(29),c=t.n(i),o=(t(102),t(103),t(74)),l=t(50),u=t(124),b=t(128),x=t(62),d=t(80),j=t.n(d),g={name:"YAPVE Sample",description:"This is just a <strong>sample YAPVE quiz</strong><br />\n  There are <strong>%QUESTIONS_COUNT%</strong> questions.<br /><br />\n  Press <strong>START</strong> to... start."},_={strongly_agree:"Strongly Agree",agree:"Agree",unsure:"Unsure",disagree:"Disagree",strongly_disagree:"Strongly Disagree",back:"Back",question:"Question",results:"Results",export_to_image:"Export to image",restart:"Restart"},f=t.p+"static/media/logo.08857fb6.svg",h={axes:[{name:"Economic",left:"Equality",right:"Markets",left_color:"#f44330",right_color:"#008970",left_icon:"ball.svg",right_icon:"ball.svg"},{name:"Societal",left:"Tradition",right:"Progress",left_color:"#8bc34a",right_color:"#bf3cd5",left_icon:"ball.svg",right_icon:"ball.svg"}]},v=[{question:"+22 to Markets",effects:[{axis:"Economic",value:22}]},{question:"+30 to Markets",effects:[{axis:"Economic",value:30}]},{question:"+13 to Tradition",effects:[{axis:"Societal",value:-13}]},{question:"+15 to Progress",effects:[{axis:"Societal",value:15}]}],O=t(125);var m=function(e){var a=g.description.replace("%QUESTIONS_COUNT%",e.questionsCount);return Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:a}}),Object(n.jsx)(O.a,{fluid:!0,primary:!0,size:"big",onClick:e.onStart,children:"Start"})]})},p=t(67),y=t.n(p);var S=function(e){return Object(n.jsxs)(u.a,{textAlign:"center",className:y.a.container,children:[Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:e.question.question}}),Object(n.jsx)(O.a,{color:"green",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(1)},children:_.strongly_agree}),Object(n.jsx)(O.a,{color:"olive",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(.5)},children:_.agree}),Object(n.jsx)(O.a,{size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(0)},children:_.unsure}),Object(n.jsx)(O.a,{color:"orange",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(-.5)},children:_.disagree}),Object(n.jsx)(O.a,{color:"red",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(-1)},children:_.strongly_disagree}),0!==e.questionIndex?Object(n.jsx)(O.a,{className:y.a.button_back,fluid:!0,basic:!0,onClick:e.onBack,children:_.back}):Object(n.jsx)(O.a,{className:y.a.button_back,fluid:!0,basic:!0,disabled:!0,children:_.back})]})},k=t(127),A=t(20),C=t.n(A),q=t(83),w=t.n(q);var E=function(e){return Object(n.jsx)("img",{className:w.a.axis_icon,src:"/yapve/img/icons/"+e.icon,alt:e.alt,style:{borderColor:e.color}})};var N=function(e){var a,t,s,r=(100*(a=e.value,t=-e.maxValue,s=e.maxValue,(a-t)/(s-t))).toFixed(1);return Object(n.jsxs)("div",{className:C.a.axisbar,children:[Object(n.jsxs)("div",{className:C.a.labels,children:[Object(n.jsx)(k.a,{as:"h2",style:{margin:0},children:e.axisData.left}),Object(n.jsx)(k.a,{as:"h2",style:{margin:0},children:e.axisData.right})]}),Object(n.jsxs)("div",{className:C.a.axis,children:[e.axisData.left_icon&&Object(n.jsx)(E,{icon:e.axisData.left_icon,color:e.axisData.left_color,alt:e.axisData.left}),Object(n.jsxs)("div",{className:"".concat(C.a.bar_background," ui large progress"),style:{backgroundColor:e.axisData.right_color},"data-percent":r,children:[Object(n.jsx)("div",{className:"".concat(C.a.bar," bar"),style:{width:r+"%",backgroundColor:e.axisData.left_color}}),Object(n.jsx)("div",{className:"".concat(C.a.value," ").concat(C.a.value_left),children:r+"%"}),Object(n.jsx)("div",{className:"".concat(C.a.value," ").concat(C.a.value_right),children:(100-r).toFixed(1)+"%"})]}),e.axisData.right_icon&&Object(n.jsx)(E,{icon:e.axisData.right_icon,color:e.axisData.right_color,alt:e.axisData.right})]})]})},B=t(84),D=t.n(B),P=t(85),I=t.n(P),T=t(86),M=t.n(T),z=t(87),R=t.n(z);var U=function(e){return Object(n.jsxs)(k.a,{as:"h5",className:R.a.poweredby,textAlign:e.textAlign||void 0,style:{float:e.float||void 0,margin:e.margin||void 0},disabled:!0,children:["Powered by ",Object(n.jsx)("a",{href:"https://github.com/CrossCRS/yapve",children:"YAPVE"})]})};var V=function(e){return Object(n.jsxs)(u.a,{textAlign:"center",children:[Object(n.jsxs)("div",{id:"canvas-target",children:[Object(n.jsx)(k.a,{as:"h1",children:_.results}),Object.keys(e.scores).map((function(a,t){return Object(n.jsx)(N,{value:e.scores[a].value,maxValue:e.scores[a].max_value,axisData:h.axes.filter((function(e){return e.name===a}))[0]})})),Object(n.jsxs)("div",{className:M.a.labels,children:[Object(n.jsx)(U,{margin:"0"}),Object(n.jsx)(k.a,{as:"h5",style:{margin:0},disabled:!0,children:g.name})]})]}),Object(n.jsxs)(O.a.Group,{widths:"2",children:[Object(n.jsx)(O.a,{primary:!0,onClick:function(){var e=document.querySelector("#canvas-target");D()(e,{width:e.scrollWidth+16,height:e.scrollHeight,logging:!1}).then((function(e){I.a.ReImg.fromCanvas(e).downloadPng()}))},"data-html2canvas-ignore":!0,children:_.export_to_image}),Object(n.jsx)(O.a,{onClick:function(){return window.location.reload()},"data-html2canvas-ignore":!0,children:_.restart})]})]})};var Y=function(){var e=0,a=1,t=2,r=Object(s.useState)(-1),i=Object(l.a)(r,2),c=i[0],d=i[1],O=Object(s.useState)(e),p=Object(l.a)(O,2),y=p[0],k=p[1],A=Object(s.useState)({}),C=Object(l.a)(A,2),q=C[0],w=C[1],E=Object(s.useState)([]),N=Object(l.a)(E,2),B=N[0],D=N[1],P=v.length;Object(s.useEffect)((function(){var e={};h.axes.forEach((function(a){e[a.name]={},e[a.name].max_value=0,e[a.name].value=0,v.forEach((function(t){t.effects.filter((function(e){return e.axis===a.name})).forEach((function(t){e[a.name].max_value+=Math.abs(t.value)}))}))})),w(e)}),[]);var I=function(){k(t)},T=function(){d(0),k(a)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(u.a,{children:Object(n.jsx)("img",{src:f,alt:g.name,className:j.a.logo})}),Object(n.jsxs)(u.a,{text:!0,children:[Object(n.jsxs)(b.a,{children:[y===a&&Object(n.jsxs)(x.a,{as:"p",color:"blue",ribbon:!0,children:[_.question," ",c+1," / ",P]}),y===e?Object(n.jsx)(m,{questionsCount:P,onStart:T}):y===a?Object(n.jsx)(S,{question:v[c],questionIndex:c,questionsCount:P,onBack:function(){if(c>0){var e=function(){var e=Object(o.a)(B),a=e.pop();return D(e),a}(),a=q;e.forEach((function(e){a[e.axis].value+=e.value})),w(a),d(c-1)}},onSendAnswer:function(e){var a=q,t=[];v[c].effects.forEach((function(n){a[n.axis].value-=n.value*e,t.push({axis:n.axis,value:n.value*e})})),w(a),function(e){D([].concat(Object(o.a)(B),[e]))}(t),c<P-1?d(c+1):I()}}):y===t?Object(n.jsx)(V,{scores:q}):Object(n.jsx)(m,{questionsCount:P,onStart:T})]}),Object(n.jsx)(U,{textAlign:"center"})]})]})};c.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(Y,{})}),document.getElementById("root"))},20:function(e,a,t){e.exports={axisbar:"AxisBar_axisbar__2RLiD",labels:"AxisBar_labels__1tneF",value:"AxisBar_value__1Iyrj",value_left:"AxisBar_value_left__2OcX-",value_right:"AxisBar_value_right__lBGIB",bar:"AxisBar_bar__4PvEh",bar_background:"AxisBar_bar_background__1IK38",axis:"AxisBar_axis__1r9WB"}},67:function(e,a,t){e.exports={container:"QuestionPanel_container__2_4xY",button_back:"QuestionPanel_button_back__2StKY"}},80:function(e,a,t){e.exports={header:"yapve_header__3r4xa",logo:"yapve_logo__tSHhU"}},83:function(e,a,t){e.exports={axis_icon:"AxisBarIcon_axis_icon__iHUMt"}},86:function(e,a,t){e.exports={labels:"ResultsPanel_labels__3blKk"}},87:function(e,a,t){e.exports={poweredby:"PoweredByLabel_poweredby__2OEJY"}}},[[110,1,2]]]);
//# sourceMappingURL=main.ff56bb1b.chunk.js.map