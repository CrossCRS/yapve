{"version":3,"sources":["data/config.js","data/strings.js","logo.svg","data/politics.js","data/questions.js","components/WelcomePanel.js","components/QuestionPanel.js","components/AxisBarIcon.js","components/AxisBar.js","components/PoweredByLabel.js","components/ResultsPanel.js","yapve.js","index.js","components/AxisBar.module.css","components/QuestionPanel.module.css","yapve.module.css","components/AxisBarIcon.module.css","components/ResultsPanel.module.css","components/PoweredByLabel.module.css"],"names":["config","name","description","strings","strongly_agree","agree","unsure","disagree","strongly_disagree","back","question","results","export_to_image","restart","politics","axes","left","right","left_color","right_color","left_icon","right_icon","questions","effects","axis","value","WelcomePanel","props","replace","questionsCount","dangerouslySetInnerHTML","__html","Button","fluid","primary","size","onClick","onStart","QuestionPanel","Container","textAlign","className","styles","container","color","onSendAnswer","questionIndex","button_back","basic","onBack","disabled","AxisBarIcon","src","process","icon","alt","style","borderColor","AxisBar","val","min","max","value_percent","maxValue","toFixed","display","flexDirection","Header","as","float","margin","axisData","bar_background","backgroundColor","data-percent","bar","width","value_left","value_right","PoweredByLabel","poweredby","undefined","href","ResultsPanel","id","Object","keys","scores","map","i","max_value","filter","a","labels","Group","widths","element","document","querySelector","html2canvas","scrollWidth","height","scrollHeight","logging","then","canvas","ReImg","fromCanvas","downloadPng","data-html2canvas-ignore","window","location","reload","YAPVE","PANELS","useState","curQuestionIndex","setQuestionIndex","curPanel","setPanel","curScores","setScores","scoreHistory","setScoreHistory","QUESTIONS_COUNT","length","useEffect","forEach","effect","Math","abs","showResults","logo","text","Segment","Label","ribbon","scoreUpdate","_scoreHistory","score","pop","popScoreHistory","updatedScores","multiplier","push","addToScoreHistory","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.46a926ba.chunk.js","sourcesContent":["const config = {\n  name: 'YAPVE Sample',\n  description: `This is just a <strong>sample YAPVE quiz</strong><br />\n  There are <strong>%QUESTIONS_COUNT%</strong> questions.<br /><br />\n  Press <strong>START</strong> to... start.`\n};\n\nexport default config;","const strings = {\n  strongly_agree: 'Strongly Agree',\n  agree: 'Agree',\n  unsure: 'Unsure',\n  disagree: 'Disagree',\n  strongly_disagree: 'Strongly Disagree',\n  back: 'Back',\n  question: 'Question',\n\n  results: 'Results',\n  export_to_image: 'Export to image',\n  restart: 'Restart'\n};\n\nexport default strings;","export default __webpack_public_path__ + \"static/media/logo.08857fb6.svg\";","const politics = {\n  axes: [\n    {\n      name: 'Economic', // Displayed and used for question effects\n      left: 'Equality',\n      right: 'Markets',\n      left_color: '#f44330', // Progress bar color\n      right_color: '#008970',\n      left_icon: 'ball.svg', // Progress bar icon (found in public/img/icons/)\n      right_icon: 'ball.svg' // You can skip these properties to not display any icons.\n    },\n    {\n      name: 'Societal',\n      left: 'Tradition',\n      right: 'Progress',\n      left_color: '#8bc34a',\n      right_color: '#bf3cd5',\n      left_icon: 'ball.svg',\n      right_icon: 'ball.svg'\n    }\n  ]\n};\n\nexport default politics;","const questions = [\n  {\n    question: '+22 to Markets',\n    effects: [\n      { axis: 'Economic', value: 22 } // Strongly agree will give +value (right value), Strongly disagree will give -value (left value)\n    ]\n  },\n  {\n    question: '+30 to Markets',\n    effects: [\n      { axis: 'Economic', value: 30 }\n    ]\n  },\n  {\n    question: '+13 to Tradition',\n    effects: [\n      { axis: 'Societal', value: -13 }\n    ]\n  },\n  {\n    question: '+15 to Progress',\n    effects: [\n      { axis: 'Societal', value: 15 }\n    ]\n  }\n]\n\nexport default questions;","import React from 'react';\nimport { Button } from 'semantic-ui-react';\nimport config from '../data/config.js';\n\nfunction WelcomePanel(props) {\n  const description = config.description.replace('%QUESTIONS_COUNT%', props.questionsCount);\n\n  return (\n    <div>\n      <p dangerouslySetInnerHTML={{__html: description}} />\n      <Button fluid primary size='big' onClick={props.onStart}>Start</Button>\n    </div>\n  )\n}\n\nexport default WelcomePanel;","import React from 'react';\nimport { Button, Container } from 'semantic-ui-react';\nimport strings from '../data/strings.js';\nimport styles from './QuestionPanel.module.css';\n\nfunction QuestionPanel(props) {\n  return (\n    <Container textAlign='center' className={styles.container}>\n      <p dangerouslySetInnerHTML={{__html: props.question.question}} />\n      \n      <Button color='green' size='large' fluid onClick={() => props.onSendAnswer(1.0)}>{strings.strongly_agree}</Button>\n      <Button color='olive' size='large' fluid onClick={() => props.onSendAnswer(0.5)}>{strings.agree}</Button>\n      <Button size='large' fluid onClick={() => props.onSendAnswer(0.0)}>{strings.unsure}</Button>\n      <Button color='orange' size='large' fluid onClick={() => props.onSendAnswer(-0.5)}>{strings.disagree}</Button>\n      <Button color='red' size='large' fluid onClick={() => props.onSendAnswer(-1.0)}>{strings.strongly_disagree}</Button>\n\n      { \n        props.questionIndex !== 0 ?\n          <Button className={styles.button_back} fluid basic onClick={props.onBack}>{strings.back}</Button>\n        :\n          <Button className={styles.button_back} fluid basic disabled>{strings.back}</Button>\n      }\n    </Container>\n  )\n}\n\nexport default QuestionPanel;","import React from 'react';\nimport styles from './AxisBarIcon.module.css';\n\nfunction AxisBarIcon(props) {\n  return (\n    <img\n      className={styles['axis-icon']}\n      src={process.env.PUBLIC_URL + '/img/icons/' + props.icon}\n      alt={props.alt}\n      style={{borderColor: props.color}}\n    />\n  )\n}\n\nexport default AxisBarIcon;","import React from 'react';\nimport { Header } from 'semantic-ui-react';\nimport styles from './AxisBar.module.css';\n\nimport AxisBarIcon from './AxisBarIcon';\n\nfunction AxisBar(props) {\n  const normalize = (val, min, max) => {\n    return (val - min) / (max - min);\n  }\n  \n  const value_percent = (normalize(props.value, -props.maxValue, props.maxValue)*100).toFixed(1);\n\n  return (\n    <div style={{display: 'flex', flexDirection: 'column'}}>\n      <div>\n        <Header as='h2' style={{float: 'left', margin: 0}}>{props.axisData.left}</Header>\n        <Header as='h2' style={{float: 'right', margin: 0}}>{props.axisData.right}</Header>\n      </div>\n      <div className={styles.axis}>\n        { props.axisData.left_icon && <AxisBarIcon icon={props.axisData.left_icon} color={props.axisData.left_color} alt={props.axisData.left} /> }\n        <div className={`${styles.bar_background} ui large progress`} style={{backgroundColor: props.axisData.right_color}} data-percent={value_percent}>\n          <div className={`${styles.bar} bar`} style={{width: value_percent+'%', backgroundColor: props.axisData.left_color}} />\n          <div className={`${styles.value} ${styles.value_left}`}>{value_percent+'%'}</div>\n          <div className={`${styles.value} ${styles.value_right}`}>{(100-value_percent).toFixed(1)+'%'}</div>\n        </div>\n        { props.axisData.right_icon && <AxisBarIcon icon={props.axisData.right_icon} color={props.axisData.right_color} alt={props.axisData.right} /> }\n      </div>\n    </div>\n  )\n}\n\nexport default AxisBar;","import React from 'react';\nimport { Header } from 'semantic-ui-react';\nimport styles from './PoweredByLabel.module.css';\n\nfunction PoweredByLabel(props) {\n  return (\n    <Header\n      as='h5'\n      className={styles.poweredby}\n      textAlign={props.textAlign || undefined}\n      style={{float: props.float || undefined, margin: props.margin || undefined}}\n      disabled\n    >\n      Powered by <a href='https://github.com/CrossCRS/yapve'>YAPVE</a>\n    </Header>\n  )\n}\n\nexport default PoweredByLabel;","import React from 'react';\nimport { Button, Container, Header } from 'semantic-ui-react';\nimport AxisBar from './AxisBar';\nimport html2canvas from 'html2canvas';\nimport ReImg from 'reimg';\nimport politics from '../data/politics.js';\nimport strings from '../data/strings.js';\nimport config from '../data/config.js';\nimport styles from './ResultsPanel.module.css';\n\nimport PoweredByLabel from './PoweredByLabel';\n\nfunction ResultsPanel(props) {\n  const exportToImage = () => {\n    const element = document.querySelector(\"#canvas-target\");\n\n    html2canvas(element, {\n      width: element.scrollWidth+16, // Add small margin\n      height: element.scrollHeight,\n      logging: false\n    }).then(canvas => {\n      ReImg.ReImg.fromCanvas(canvas).downloadPng(); \n    });\n  }\n\n  return (\n    <Container textAlign='center'>\n      <div id='canvas-target'>\n        <Header as='h1'>{strings.results}</Header>\n\n        {\n          Object.keys(props.scores).map((axis, i) => (\n            <AxisBar\n              value={props.scores[axis].value}\n              maxValue={props.scores[axis].max_value}\n              axisData={politics.axes.filter(a => a.name === axis)[0]}\n            />\n          ))\n        }\n\n        <div className={styles.labels}>\n          <PoweredByLabel margin='0' />\n          <Header as='h5' style={{margin: 0}} disabled>{config.name}</Header>\n        </div>\n      </div>\n\n      <Button.Group widths='2'>\n        <Button primary onClick={exportToImage} data-html2canvas-ignore>{strings.export_to_image}</Button>\n        <Button onClick={() => window.location.reload()} data-html2canvas-ignore>{strings.restart}</Button>\n      </Button.Group>\n    </Container>\n  )\n}\n\nexport default ResultsPanel;","import React, { useState, useEffect } from 'react';\nimport { Container, Header, Segment, Label } from 'semantic-ui-react';\nimport styles from './yapve.module.css';\nimport config from './data/config.js';\nimport strings from './data/strings.js';\n\nimport logo from './logo.svg';\n\nimport politics from './data/politics.js';\nimport questions from './data/questions.js';\n\nimport WelcomePanel from './components/WelcomePanel';\nimport QuestionPanel from './components/QuestionPanel';\nimport ResultsPanel from './components/ResultsPanel';\nimport PoweredByLabel from './components/PoweredByLabel';\n\nfunction YAPVE() {\n  const PANELS = {\n    WELCOME_PANEL: 0,\n    QUESTION_PANEL: 1,\n    RESULTS_PANEL: 2\n  }\n\n  const [curQuestionIndex, setQuestionIndex] = useState(-1);\n  const [curPanel, setPanel] = useState(PANELS.WELCOME_PANEL);\n  const [curScores, setScores] = useState({});\n  const [scoreHistory, setScoreHistory] = useState([]);\n\n  const QUESTIONS_COUNT = questions.length;\n\n  useEffect(() => {\n    let scores = {};\n\n    // Calculate max values for each axis and initialize user score\n    politics.axes.forEach((axis) => {\n      scores[axis.name] = {};\n      scores[axis.name].max_value = 0;\n      scores[axis.name].value = 0;\n\n      questions.forEach((question) => {\n        question.effects.filter(effect => effect.axis === axis.name).forEach((effect) => {\n          scores[axis.name].max_value += Math.abs(effect.value);\n        })\n      })\n    })\n\n    setScores(scores);\n  }, []);\n\n  const addToScoreHistory = (scoreUpdate) => {\n    setScoreHistory([...scoreHistory, scoreUpdate]);\n  }\n  const popScoreHistory = () => {\n    const _scoreHistory = [...scoreHistory];\n    const score = _scoreHistory.pop();\n    setScoreHistory(_scoreHistory);\n    return score;\n  }\n\n  const prevQuestion = () => {\n    if (curQuestionIndex > 0) {\n      const scoreUpdate = popScoreHistory();\n\n      const updatedScores = curScores;\n      scoreUpdate.forEach((effect) => {\n        updatedScores[effect.axis].value += effect.value;\n      })\n\n      setScores(updatedScores);\n      setQuestionIndex(curQuestionIndex - 1);\n    }\n  }\n  const nextQuestion = (multiplier) => {\n    // Update scores\n    const updatedScores = curScores;\n    const scoreUpdate = [];\n    questions[curQuestionIndex].effects.forEach((effect) => {\n      updatedScores[effect.axis].value -= effect.value * multiplier;\n      scoreUpdate.push({axis: effect.axis, value: effect.value * multiplier});\n    })\n    setScores(updatedScores);\n    addToScoreHistory(scoreUpdate);\n\n    if (curQuestionIndex < QUESTIONS_COUNT - 1) {\n      setQuestionIndex(curQuestionIndex + 1);\n    } else {\n      showResults();\n    }\n  }\n  const showResults = () => {\n    setPanel(PANELS.RESULTS_PANEL);\n  }\n\n  const onStart = () => {\n    setQuestionIndex(0);\n    setPanel(PANELS.QUESTION_PANEL);\n  }\n\n  return (\n    <div>\n      <Container>\n        <img src={logo} alt={config.name} className={styles.logo} />\n      </Container>\n\n      <Container text>\n        <Segment>\n        { curPanel === PANELS.QUESTION_PANEL && <Label as='p' color='blue' ribbon>{strings.question} {curQuestionIndex+1} / {QUESTIONS_COUNT}</Label> }\n\n        {\n          curPanel === PANELS.WELCOME_PANEL ?\n            <WelcomePanel questionsCount={QUESTIONS_COUNT} onStart={onStart} />\n          : curPanel === PANELS.QUESTION_PANEL ?\n            <QuestionPanel\n              question={questions[curQuestionIndex]}\n              questionIndex={curQuestionIndex}\n              questionsCount={QUESTIONS_COUNT}\n              onBack={prevQuestion}\n              onSendAnswer={nextQuestion}\n            />\n          : curPanel === PANELS.RESULTS_PANEL ?\n            <ResultsPanel scores={curScores} />\n          :\n            <WelcomePanel questionsCount={QUESTIONS_COUNT} onStart={onStart} />\n        }\n        </Segment>\n\n        <PoweredByLabel textAlign='center' />\n      </Container>\n    </div>\n  );\n}\n\nexport default YAPVE;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'semantic-ui-css/semantic.min.css';\nimport YAPVE from './yapve';\n\nReactDOM.render(\n  <React.StrictMode>\n    <YAPVE />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"value\":\"AxisBar_value__1Iyrj\",\"value_left\":\"AxisBar_value_left__2OcX-\",\"value_right\":\"AxisBar_value_right__lBGIB\",\"bar\":\"AxisBar_bar__4PvEh\",\"bar_background\":\"AxisBar_bar_background__1IK38\",\"axis\":\"AxisBar_axis__1r9WB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"QuestionPanel_container__2_4xY\",\"button_back\":\"QuestionPanel_button_back__2StKY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"yapve_header__3r4xa\",\"logo\":\"yapve_logo__tSHhU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"axis-icon\":\"AxisBarIcon_axis-icon__3_o4f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"labels\":\"ResultsPanel_labels__3blKk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"poweredby\":\"PoweredByLabel_poweredby__2OEJY\"};"],"sourceRoot":""}