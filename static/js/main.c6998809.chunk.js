(this.webpackJsonpyapve=this.webpackJsonpyapve||[]).push([[0],{100:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a.n(r),c=a(28),i=a.n(c),o=(a(100),a(101),a(74)),l=a(50),u=a(125),d=a(122),b=a(126),j=a(62),x=a(80),f=a.n(x),g={name:"YAPVE Sample",description:"This is just a <strong>sample YAPVE quiz</strong><br />\n  There are <strong>%QUESTIONS_COUNT%</strong> questions.<br /><br />\n  Press <strong>START</strong> to... start."},h={strongly_agree:"Strongly Agree",agree:"Agree",unsure:"Unsure",disagree:"Disagree",strongly_disagree:"Strongly Disagree",back:"Back",question:"Question",results:"Results",export_to_image:"Export to image"},v={axes:[{name:"Economic",left:"Equality",right:"Markets",left_color:"#f44330",right_color:"#008970"},{name:"Societal",left:"Tradition",right:"Progress",left_color:"#8bc34a",right_color:"#bf3cd5"}]},_=[{question:"+22 to Markets",effects:[{axis:"Economic",value:22}]},{question:"+30 to Markets",effects:[{axis:"Economic",value:30}]},{question:"+13 to Tradition",effects:[{axis:"Societal",value:-13}]},{question:"+15 to Progress",effects:[{axis:"Societal",value:15}]}],O=a(123);var m=function(e){var t=g.description.replace("%QUESTIONS_COUNT%",e.questionsCount);return Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:t}}),Object(n.jsx)(O.a,{fluid:!0,primary:!0,onClick:e.onStart,children:"Start"})]})},p=a(67),y=a.n(p);var S=function(e){return Object(n.jsxs)(d.a,{textAlign:"center",className:y.a.container,children:[Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:e.question.question}}),Object(n.jsx)(O.a,{color:"green",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(1)},children:h.strongly_agree}),Object(n.jsx)(O.a,{color:"olive",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(.5)},children:h.agree}),Object(n.jsx)(O.a,{size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(0)},children:h.unsure}),Object(n.jsx)(O.a,{color:"orange",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(-.5)},children:h.disagree}),Object(n.jsx)(O.a,{color:"red",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(-1)},children:h.strongly_disagree}),0!==e.questionIndex?Object(n.jsx)(O.a,{className:y.a.button_back,fluid:!0,basic:!0,onClick:e.onBack,children:h.back}):Object(n.jsx)(O.a,{className:y.a.button_back,fluid:!0,basic:!0,disabled:!0,children:h.back})]})},k=a(31),A=a.n(k);var q=function(e){var t,a,r,s=(100*(t=e.value,a=-e.maxValue,r=e.maxValue,(t-a)/(r-a))).toFixed(1);return Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(u.a,{as:"h2",style:{float:"left",margin:0},children:e.axisData.left}),Object(n.jsx)(u.a,{as:"h2",style:{float:"right",margin:0},children:e.axisData.right})]}),Object(n.jsxs)("div",{className:"".concat(A.a.bar_background," ui big progress"),style:{backgroundColor:e.axisData.right_color},"data-percent":s,children:[Object(n.jsx)("div",{className:"".concat(A.a.bar," bar"),style:{width:s+"%",backgroundColor:e.axisData.left_color}}),Object(n.jsx)("div",{className:"".concat(A.a.value," ").concat(A.a.value_left),children:s+"%"}),Object(n.jsx)("div",{className:"".concat(A.a.value," ").concat(A.a.value_right),children:(100-s).toFixed(1)+"%"})]})]})},C=a(83),E=a.n(C),w=a(84),N=a.n(w),B=a(85),P=a.n(B);var T=function(e){return Object(n.jsxs)(u.a,{as:"h5",className:P.a.poweredby,textAlign:e.textAlign||"center",style:{float:e.float||void 0,margin:e.margin||void 0},disabled:!0,children:["Powered by ",Object(n.jsx)("a",{href:"https://github.com/CrossCRS/yapve",children:"YAPVE"})]})};var I=function(e){return Object(n.jsxs)(d.a,{textAlign:"center",id:"canvas-target",children:[Object(n.jsx)(u.a,{as:"h1",children:h.results}),Object.keys(e.scores).map((function(t,a){return Object(n.jsx)(q,{value:e.scores[t].value,maxValue:e.scores[t].max_value,axisData:v.axes.filter((function(e){return e.name===t}))[0]})})),Object(n.jsx)(T,{float:"left",margin:"0"}),Object(n.jsx)(u.a,{as:"h5",style:{margin:0,float:"right"},disabled:!0,children:g.name}),Object(n.jsx)(O.a,{onClick:function(){var e=document.querySelector("#canvas-target");E()(e,{width:e.scrollWidth+16,height:e.scrollHeight,logging:!1}).then((function(e){N.a.ReImg.fromCanvas(e).downloadPng()}))},"data-html2canvas-ignore":!0,children:h.export_to_image})]})};var D=function(){var e=0,t=1,a=2,s=Object(r.useState)(-1),c=Object(l.a)(s,2),i=c[0],x=c[1],O=Object(r.useState)(e),p=Object(l.a)(O,2),y=p[0],k=p[1],A=Object(r.useState)({}),q=Object(l.a)(A,2),C=q[0],E=q[1],w=Object(r.useState)([]),N=Object(l.a)(w,2),B=N[0],P=N[1],D=_.length;Object(r.useEffect)((function(){var e={};v.axes.forEach((function(t){e[t.name]={},e[t.name].max_value=0,e[t.name].value=0,_.forEach((function(a){a.effects.filter((function(e){return e.axis===t.name})).forEach((function(a){e[t.name].max_value+=Math.abs(a.value)}))}))})),E(e)}),[]);var M=function(){k(a)},z=function(){x(0),k(t)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(u.a,{as:"h1",className:f.a.header,content:g.name,textAlign:"center"}),Object(n.jsxs)(d.a,{text:!0,children:[Object(n.jsxs)(b.a,{children:[y===t&&Object(n.jsxs)(j.a,{as:"p",color:"blue",ribbon:!0,children:[h.question," ",i+1," / ",D]}),y===e?Object(n.jsx)(m,{questionsCount:D,onStart:z}):y===t?Object(n.jsx)(S,{question:_[i],questionIndex:i,questionsCount:D,onBack:function(){if(i>0){var e=function(){var e=Object(o.a)(B),t=e.pop();return P(e),t}(),t=C;e.forEach((function(e){t[e.axis].value+=e.value})),E(t),x(i-1)}},onSendAnswer:function(e){var t=C,a=[];_[i].effects.forEach((function(n){t[n.axis].value-=n.value*e,a.push({axis:n.axis,value:n.value*e})})),E(t),function(e){P([].concat(Object(o.a)(B),[e]))}(a),i<D-1?x(i+1):M()}}):y===a?Object(n.jsx)(I,{scores:C}):Object(n.jsx)(m,{questionsCount:D,onStart:z})]}),Object(n.jsx)(T,{})]})]})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(D,{})}),document.getElementById("root"))},31:function(e,t,a){e.exports={value:"AxisBar_value__1Iyrj",value_left:"AxisBar_value_left__2OcX-",value_right:"AxisBar_value_right__lBGIB",bar:"AxisBar_bar__4PvEh",bar_background:"AxisBar_bar_background__1IK38"}},67:function(e,t,a){e.exports={container:"QuestionPanel_container__2_4xY",button_back:"QuestionPanel_button_back__2StKY"}},80:function(e,t,a){e.exports={header:"yapve_header__3r4xa"}},85:function(e,t,a){e.exports={poweredby:"PoweredByLabel_poweredby__2OEJY"}}},[[108,1,2]]]);
//# sourceMappingURL=main.c6998809.chunk.js.map