(this.webpackJsonpyapve=this.webpackJsonpyapve||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),r=n.n(s),a=n(9),o=n.n(a),i=(n(19),n(8)),l=n(3),u={name:"YAPVE Sample",description:"This is just a <strong>sample YAPVE quiz</strong><br />\n  There are <strong>%QUESTIONS_COUNT%</strong> questions.<br /><br />\n  Press <strong>START</strong> to... start."},d=n.p+"static/media/logo.08857fb6.svg",b={axes:[{name:"Economic",left:"Equality",right:"Markets",left_color:"#f44330",right_color:"#008970",left_icon:"ball.svg",right_icon:"ball.svg"},{name:"Societal",left:"Tradition",right:"Progress",left_color:"#8bc34a",right_color:"#bf3cd5",left_icon:"ball.svg",right_icon:"ball.svg"}]},g=[{question:"+22 to Markets",effects:[{axis:"Economic",value:22}]},{question:"+30 to Markets",effects:[{axis:"Economic",value:30}]},{question:"+13 to Tradition",effects:[{axis:"Societal",value:-13}]},{question:"+15 to Progress",effects:[{axis:"Societal",value:15}]}],m=n(7),j=n(5),x=n(13),f=n(10),h=n.n(f);function v(e){var t=e.className,n=e.color,s=e.onClick,r=e.disabled,a=e.basic,o=e.children,i=Object(x.a)(e,["className","color","onClick","disabled","basic","children"]),l=h()(Object(j.a)({"px-4 py-2 border border-transparent rounded-sm shadow-sm font-semibold":!0,"focus:outline-none focus:ring":!r,"text-white":!r&&!a,"bg-blue-500 hover:bg-blue-600 focus:ring-blue-200":!r&&!a&&!n,"bg-green-500 hover:bg-green-600 focus:ring-green-200":!r&&!a&&"green"===n,"bg-green-400 hover:bg-green-600 focus:ring-green-200":!r&&!a&&"lightgreen"===n,"bg-red-500 hover:bg-red-600 focus:ring-red-200":!r&&!a&&"red"===n,"bg-red-400 hover:bg-red-600 focus:ring-red-200":!r&&!a&&"lightred"===n,"bg-gray-100 text-gray-400 cursor-default focus:outline-none":r,"bg-gray-200 hover:bg-gray-300 focus:ring-gray-100 text-gray-900":!r&&!n&&a},"".concat(t),t));return Object(c.jsx)("button",Object(m.a)(Object(m.a)({type:"button",className:l,onClick:s},i),{},{children:o}))}v.defaultProps={className:"",color:"",children:"",onClick:void 0,disabled:!1,basic:!1};var O=v;var y=function(e){var t=e.questionsCount,n=e.onStart,s=u.description.replace("%QUESTIONS_COUNT%",t);return Object(c.jsxs)("div",{children:[Object(c.jsx)("p",{dangerouslySetInnerHTML:{__html:s}}),Object(c.jsx)(O,{className:"min-w-full mt-8",onClick:n,children:"Start"})]})},N={strongly_agree:"Strongly Agree",agree:"Agree",unsure:"Unsure",disagree:"Disagree",strongly_disagree:"Strongly Disagree",back:"Back",question:"Question",results:"Results",export_to_image:"Export to image",restart:"Restart"};var p=function(e){var t=e.question,n=e.questionIndex,s=e.questionsCount,r=e.onSendAnswer,a=e.onBack;return Object(c.jsxs)("div",{className:"flex flex-col",children:[Object(c.jsxs)("span",{className:"text-center text-gray-500 text-sm",children:[N.question," ",n+1," / ",s]}),Object(c.jsx)("p",{className:"text-center font-medium text-xl my-8",dangerouslySetInnerHTML:{__html:t.question}}),Object(c.jsxs)("div",{className:"flex flex-col mb-10",children:[Object(c.jsx)(O,{color:"green",className:"my-1",onClick:function(){return r(1)},children:N.strongly_agree}),Object(c.jsx)(O,{color:"lightgreen",className:"my-1",onClick:function(){return r(.5)},children:N.agree}),Object(c.jsx)(O,{basic:!0,className:"my-1",onClick:function(){return r(0)},children:N.unsure}),Object(c.jsx)(O,{color:"lightred",className:"my-1",onClick:function(){return r(-.5)},children:N.disagree}),Object(c.jsx)(O,{color:"red",className:"my-1",onClick:function(){return r(-1)},children:N.strongly_disagree})]}),0!==n?Object(c.jsx)(O,{basic:!0,onClick:a,children:N.back}):Object(c.jsx)(O,{disabled:!0,children:N.back})]})},_=n(11),k=n.n(_),C=n(12),S=n.n(C);var w=function(e){var t=e.icon,n=e.alt,s=e.color;return Object(c.jsx)("img",{className:"w-16 border-4 rounded-sm",src:"".concat("/yapve","/img/icons/").concat(t),alt:n,style:{borderColor:s}})};var q=function(e){var t,n,s,r=e.value,a=e.maxValue,o=e.axisData,i=(100*(t=r,n=-a,s=a,(t-n)/(s-n))).toFixed(1),l=i<10?10:i,u=100-i<10?10:100-i;return Object(c.jsxs)("div",{className:"mb-6",children:[Object(c.jsxs)("div",{className:"flex justify-between",children:[Object(c.jsx)("h2",{className:"text-xl font-medium",children:o.left}),Object(c.jsx)("h2",{className:"text-xl font-medium",children:o.right})]}),Object(c.jsxs)("div",{className:"flex items-center",children:[o.left_icon&&Object(c.jsx)(w,{icon:o.left_icon,color:o.left_color,alt:o.left}),Object(c.jsx)("div",{className:"relative h-10 rounded-sm rounded-l-none mr-1 flex items-center justify-start",style:{width:"".concat(l,"%"),backgroundColor:o.left_color},children:Object(c.jsx)("div",{className:"mx-1 font-medium",children:"".concat(i,"%")})}),Object(c.jsx)("div",{className:"relative h-10 rounded-sm rounded-r-none ml-1 flex items-center justify-end",style:{width:"".concat(u,"%"),backgroundColor:o.right_color},children:Object(c.jsx)("div",{className:"mx-1 font-medium",children:"".concat((100-i).toFixed(1),"%")})}),o.right_icon&&Object(c.jsx)(w,{icon:o.right_icon,color:o.right_color,alt:o.right})]})]})};function E(e){var t=e.className;return Object(c.jsxs)("h5",{className:"text-gray-700 font-light text-sm ".concat(t),children:["Powered by ",Object(c.jsx)("a",{href:"https://github.com/CrossCRS/yapve",children:"YAPVE"})]})}E.defaultProps={className:""};var T=E;var P=function(e){var t=e.scores;return Object(c.jsxs)("div",{className:"flex flex-col",children:[Object(c.jsxs)("div",{id:"canvas-target",children:[Object(c.jsx)("h1",{className:"text-4xl text-center mb-6",children:N.results}),Object.keys(t).map((function(e){return Object(c.jsx)(q,{value:t[e].value,maxValue:t[e].max_value,axisData:b.axes.filter((function(t){return t.name===e}))[0]},e)})),Object(c.jsxs)("div",{className:"flex justify-between mb-6",children:[Object(c.jsx)(T,{}),Object(c.jsx)("h5",{className:"text-gray-700 font-light text-sm",disabled:!0,children:u.name})]})]}),Object(c.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[Object(c.jsx)(O,{onClick:function(){var e=document.querySelector("#canvas-target");k()(e,{width:e.scrollWidth,height:e.scrollHeight,logging:!1}).then((function(e){S.a.ReImg.fromCanvas(e).downloadPng()}))},"data-html2canvas-ignore":!0,children:N.export_to_image}),Object(c.jsx)(O,{basic:!0,onClick:function(){return window.location.reload()},"data-html2canvas-ignore":!0,children:N.restart})]})]})};var A=function(){var e=0,t=1,n=2,r=Object(s.useState)(-1),a=Object(l.a)(r,2),o=a[0],m=a[1],j=Object(s.useState)(e),x=Object(l.a)(j,2),f=x[0],h=x[1],v=Object(s.useState)({}),O=Object(l.a)(v,2),N=O[0],_=O[1],k=Object(s.useState)([]),C=Object(l.a)(k,2),S=C[0],w=C[1],q=g.length;Object(s.useEffect)((function(){var e={};b.axes.forEach((function(t){e[t.name]={},e[t.name].max_value=0,e[t.name].value=0,g.forEach((function(n){n.effects.filter((function(e){return e.axis===t.name})).forEach((function(n){e[t.name].max_value+=Math.abs(n.value)}))}))})),_(e)}),[]);var E=function(){if(o>0){var e=function(){var e=Object(i.a)(S),t=e.pop();return w(e),t}(),t=N;e.forEach((function(e){t[e.axis].value+=e.value})),_(t),m(o-1)}},A=function(e){var t=N,c=[];g[o].effects.forEach((function(n){t[n.axis].value-=n.value*e,c.push({axis:n.axis,value:n.value*e})})),_(t),function(e){w([].concat(Object(i.a)(S),[e]))}(c),o<q-1?m(o+1):h(n)},I=function(){m(0),h(t)};return Object(c.jsxs)("div",{className:"min-h-screen bg-gray-100 pt-6 font-body",children:[Object(c.jsx)("img",{src:d,alt:u.name,className:"mx-auto"}),Object(c.jsxs)("div",{className:"max-w-2xl mx-auto",children:[Object(c.jsx)("div",{className:"bg-white py-6 px-6 my-6 shadow-lg rounded-md",children:f===t?Object(c.jsx)(p,{question:g[o],questionIndex:o,questionsCount:q,onBack:E,onSendAnswer:A}):f===n?Object(c.jsx)(P,{scores:N}):Object(c.jsx)(y,{questionsCount:q,onStart:I})}),Object(c.jsx)(T,{className:"text-center"})]})]})};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(A,{})}),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.2db21f6c.chunk.js.map