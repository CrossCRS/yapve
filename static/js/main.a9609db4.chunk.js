(this.webpackJsonpyapve=this.webpackJsonpyapve||[]).push([[0],{100:function(e,t,a){},108:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(0),s=a.n(r),c=a(28),o=a.n(c),i=(a(100),a(101),a(74)),l=a(50),u=a(122),d=a(126),b=a(62),j=a(80),x=a.n(j),f={name:"YAPVE Sample",description:"This is just a <strong>sample YAPVE quiz</strong><br />\n  There are <strong>%QUESTIONS_COUNT%</strong> questions.<br /><br />\n  Press <strong>START</strong> to... start."},g={strongly_agree:"Strongly Agree",agree:"Agree",unsure:"Unsure",disagree:"Disagree",strongly_disagree:"Strongly Disagree",back:"Back",question:"Question",results:"Results",export_to_image:"Export to image"},h=a.p+"static/media/logo.08857fb6.svg",_={axes:[{name:"Economic",left:"Equality",right:"Markets",left_color:"#f44330",right_color:"#008970"},{name:"Societal",left:"Tradition",right:"Progress",left_color:"#8bc34a",right_color:"#bf3cd5"}]},v=[{question:"+22 to Markets",effects:[{axis:"Economic",value:22}]},{question:"+30 to Markets",effects:[{axis:"Economic",value:30}]},{question:"+13 to Tradition",effects:[{axis:"Societal",value:-13}]},{question:"+15 to Progress",effects:[{axis:"Societal",value:15}]}],O=a(123);var m=function(e){var t=f.description.replace("%QUESTIONS_COUNT%",e.questionsCount);return Object(n.jsxs)("div",{children:[Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:t}}),Object(n.jsx)(O.a,{fluid:!0,primary:!0,size:"big",onClick:e.onStart,children:"Start"})]})},p=a(67),y=a.n(p);var S=function(e){return Object(n.jsxs)(u.a,{textAlign:"center",className:y.a.container,children:[Object(n.jsx)("p",{dangerouslySetInnerHTML:{__html:e.question.question}}),Object(n.jsx)(O.a,{color:"green",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(1)},children:g.strongly_agree}),Object(n.jsx)(O.a,{color:"olive",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(.5)},children:g.agree}),Object(n.jsx)(O.a,{size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(0)},children:g.unsure}),Object(n.jsx)(O.a,{color:"orange",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(-.5)},children:g.disagree}),Object(n.jsx)(O.a,{color:"red",size:"large",fluid:!0,onClick:function(){return e.onSendAnswer(-1)},children:g.strongly_disagree}),0!==e.questionIndex?Object(n.jsx)(O.a,{className:y.a.button_back,fluid:!0,basic:!0,onClick:e.onBack,children:g.back}):Object(n.jsx)(O.a,{className:y.a.button_back,fluid:!0,basic:!0,disabled:!0,children:g.back})]})},k=a(125),A=a(31),q=a.n(A);var C=function(e){var t,a,r,s=(100*(t=e.value,a=-e.maxValue,r=e.maxValue,(t-a)/(r-a))).toFixed(1);return Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(n.jsxs)("div",{children:[Object(n.jsx)(k.a,{as:"h2",style:{float:"left",margin:0},children:e.axisData.left}),Object(n.jsx)(k.a,{as:"h2",style:{float:"right",margin:0},children:e.axisData.right})]}),Object(n.jsxs)("div",{className:"".concat(q.a.bar_background," ui big progress"),style:{backgroundColor:e.axisData.right_color},"data-percent":s,children:[Object(n.jsx)("div",{className:"".concat(q.a.bar," bar"),style:{width:s+"%",backgroundColor:e.axisData.left_color}}),Object(n.jsx)("div",{className:"".concat(q.a.value," ").concat(q.a.value_left),children:s+"%"}),Object(n.jsx)("div",{className:"".concat(q.a.value," ").concat(q.a.value_right),children:(100-s).toFixed(1)+"%"})]})]})},E=a(83),w=a.n(E),N=a(84),B=a.n(N),P=a(85),T=a.n(P);var I=function(e){return Object(n.jsxs)(k.a,{as:"h5",className:T.a.poweredby,textAlign:e.textAlign||"center",style:{float:e.float||void 0,margin:e.margin||void 0},disabled:!0,children:["Powered by ",Object(n.jsx)("a",{href:"https://github.com/CrossCRS/yapve",children:"YAPVE"})]})};var D=function(e){return Object(n.jsxs)(u.a,{textAlign:"center",id:"canvas-target",children:[Object(n.jsx)(k.a,{as:"h1",children:g.results}),Object.keys(e.scores).map((function(t,a){return Object(n.jsx)(C,{value:e.scores[t].value,maxValue:e.scores[t].max_value,axisData:_.axes.filter((function(e){return e.name===t}))[0]})})),Object(n.jsx)(I,{float:"left",margin:"0"}),Object(n.jsx)(k.a,{as:"h5",style:{margin:0,float:"right"},disabled:!0,children:f.name}),Object(n.jsx)(O.a,{onClick:function(){var e=document.querySelector("#canvas-target");w()(e,{width:e.scrollWidth+16,height:e.scrollHeight,logging:!1}).then((function(e){B.a.ReImg.fromCanvas(e).downloadPng()}))},"data-html2canvas-ignore":!0,children:g.export_to_image})]})};var z=function(){var e=0,t=1,a=2,s=Object(r.useState)(-1),c=Object(l.a)(s,2),o=c[0],j=c[1],O=Object(r.useState)(e),p=Object(l.a)(O,2),y=p[0],k=p[1],A=Object(r.useState)({}),q=Object(l.a)(A,2),C=q[0],E=q[1],w=Object(r.useState)([]),N=Object(l.a)(w,2),B=N[0],P=N[1],T=v.length;Object(r.useEffect)((function(){var e={};_.axes.forEach((function(t){e[t.name]={},e[t.name].max_value=0,e[t.name].value=0,v.forEach((function(a){a.effects.filter((function(e){return e.axis===t.name})).forEach((function(a){e[t.name].max_value+=Math.abs(a.value)}))}))})),E(e)}),[]);var z=function(){k(a)},M=function(){j(0),k(t)};return Object(n.jsxs)("div",{children:[Object(n.jsx)(u.a,{children:Object(n.jsx)("img",{src:h,alt:f.name,className:x.a.logo})}),Object(n.jsxs)(u.a,{text:!0,children:[Object(n.jsxs)(d.a,{children:[y===t&&Object(n.jsxs)(b.a,{as:"p",color:"blue",ribbon:!0,children:[g.question," ",o+1," / ",T]}),y===e?Object(n.jsx)(m,{questionsCount:T,onStart:M}):y===t?Object(n.jsx)(S,{question:v[o],questionIndex:o,questionsCount:T,onBack:function(){if(o>0){var e=function(){var e=Object(i.a)(B),t=e.pop();return P(e),t}(),t=C;e.forEach((function(e){t[e.axis].value+=e.value})),E(t),j(o-1)}},onSendAnswer:function(e){var t=C,a=[];v[o].effects.forEach((function(n){t[n.axis].value-=n.value*e,a.push({axis:n.axis,value:n.value*e})})),E(t),function(e){P([].concat(Object(i.a)(B),[e]))}(a),o<T-1?j(o+1):z()}}):y===a?Object(n.jsx)(D,{scores:C}):Object(n.jsx)(m,{questionsCount:T,onStart:M})]}),Object(n.jsx)(I,{})]})]})};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(z,{})}),document.getElementById("root"))},31:function(e,t,a){e.exports={value:"AxisBar_value__1Iyrj",value_left:"AxisBar_value_left__2OcX-",value_right:"AxisBar_value_right__lBGIB",bar:"AxisBar_bar__4PvEh",bar_background:"AxisBar_bar_background__1IK38"}},67:function(e,t,a){e.exports={container:"QuestionPanel_container__2_4xY",button_back:"QuestionPanel_button_back__2StKY"}},80:function(e,t,a){e.exports={header:"yapve_header__3r4xa",logo:"yapve_logo__tSHhU"}},85:function(e,t,a){e.exports={poweredby:"PoweredByLabel_poweredby__2OEJY"}}},[[108,1,2]]]);
//# sourceMappingURL=main.a9609db4.chunk.js.map